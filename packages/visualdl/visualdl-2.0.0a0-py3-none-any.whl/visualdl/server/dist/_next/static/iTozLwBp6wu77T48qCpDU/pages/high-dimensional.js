(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"5Kf0":function(e,n,t){e.exports=t.p+"static/chunks/0.66256550ca4c703b65eb.worker.js"},"DtL+":function(e,n,t){"use strict";(function(e){var r=t("OnzC"),i=t("ERkP"),o=t.n(i),c=t("r8eb"),a=t("roxr"),u=t("JBtm"),l=t.n(u),s=t("j/s1"),d=t("RbC2"),f=t("O1Fn"),b=t("9bu8"),m=o.a.createElement,v=Object(c.F)(600),p=function(){return t.e(11).then(t.bind(null,"ppfC")).then((function(e){var n=e.divide;return function(e){var t;return n(e.points,e.labels,!!e.visibility,null!==(t=e.keyword)&&void 0!==t?t:"")}}))},h=function(){return new Worker(e)},g=Object(s.c)(a.a).withConfig({displayName:"HighDimensionalChart__StyledScatterChart",componentId:"i3h5jz-0"})(["height:",";"],v),j=s.c.div.withConfig({displayName:"HighDimensionalChart__Empty",componentId:"i3h5jz-1"})(["display:flex;justify-content:center;align-items:center;font-size:",";height:",";"],Object(c.F)(20),v),O={show:!0,position:"top",formatter:function(e){return e.data.showing?e.data.name:""}};n.a=function(e){var n=e.run,t=e.running,o=e.labelVisibility,a=e.keyword,u=e.reduction,s=e.dimension,v=Object(b.d)("common").t,y=Object(f.b)("/embeddings/embedding?".concat(l.a.stringify({run:null!==n&&void 0!==n?n:"",dimension:Number.parseInt(s),reduction:u})),!!t),w=y.data,k=y.error,C=y.loading,x=Object(i.useMemo)((function(){var e,n;return{points:null!==(e=null===w||void 0===w?void 0:w.embedding)&&void 0!==e?e:[],keyword:a,labels:null!==(n=null===w||void 0===w?void 0:w.labels)&&void 0!==n?n:[],visibility:o}}),[w,o,a]),E=Object(d.a)(p,h,r.divide,x),P=Object(i.useMemo)((function(){var e,n;return[{name:"highlighted",data:null!==(e=null===E||void 0===E?void 0:E[0])&&void 0!==e?e:[],label:O},{name:"others",data:null!==(n=null===E||void 0===E?void 0:E[1])&&void 0!==n?n:[],label:O,color:c.D}]}),[E]);return!w&&k?m(j,null,v("error")):w||C?m(g,{loading:C,data:P,gl:"3d"===s}):m(j,null,v("empty"))}}).call(this,t("5Kf0"))},FvZk:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/high-dimensional",function(){return t("ioac")}])},IMpY:function(e,n){},OnzC:function(e,n,t){"use strict";t.d(n,"divide",(function(){return r}));t("IMpY");var r=function(e){var n=e.points,t=e.keyword;return function(e,n){if(!n)return[[],e];var t=[],r=[];return e.forEach((function(e){e.name.includes(n)?t.push(e):r.push(e)})),[t,r]}(function(e,n,t){return e.map((function(e,r){return{name:n[r]||"",showing:!!t,value:e}}))}(n,e.labels,e.visibility),t)}},RbC2:function(e,n,t){"use strict";var r=t("ERkP");n.a=function(e,n,t,i){var o=Object(r.useRef)(null),c=Object(r.useRef)(null),a=Object(r.useState)(void 0),u=a[0],l=a[1],s=Object(r.useCallback)((function(e){return t&&l(t(e))}),[t]);return Object(r.useEffect)((function(){try{var t,r,a,u;if(e&&"undefined"!==typeof WebAssembly)return o.current||(o.current=e()),void(null===(t=o.current)||void 0===t||t.then((function(e){return l(e(i))})).catch((function(){return s(i)})));if(n&&"undefined"!==typeof Worker)return c.current||(c.current=n()),null===(r=c.current)||void 0===r||r.postMessage(i),null===(a=c.current)||void 0===a||a.addEventListener("message",(function(e){var n=e.data;return l(n)})),void(null===(u=c.current)||void 0===u||u.addEventListener("error",(function(){return s(i)})))}catch(d){0,s(i)}s(i)}),[e,n,s,i]),u}},XPj2:function(e,n,t){"use strict";var r=t("ERkP"),i=function(e,n){var t=Object(r.useState)(e),i=t[0],o=t[1];return Object(r.useEffect)((function(){var t=setTimeout((function(){o(e)}),n);return function(){return clearTimeout(t)}}),[e,n]),i},o=function(e){return Array.isArray(e)&&!e.length||"string"===typeof e&&""===e};n.a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:275,t=i(e,n);return o(e)?e:o(t)?e:t}},ioac:function(e,n,t){"use strict";t.r(n);var r=t("9bu8"),i=t("ERkP"),o=t.n(i),c=t("gI5n"),a=t("r8eb"),u=t("KBf4"),l=t("PKwP"),s=t("QRo2"),d=t("wK9i"),f=t("DtL+"),b=t("TpTG"),m=t("1HTM"),v=t("j/s1"),p=o.a.createElement,h=v.c.div.withConfig({displayName:"RadioGroup__Wrapper",componentId:"u4ef1v-0"})(["display:inline-flex;> *{flex-shrink:0;align-items:flex-start;}"]),g=Object(i.createContext)(null),j=Object(i.createContext)((function(){})),O=function(e){var n=e.value,t=e.onChange,r=e.children,o=e.className,c=Object(i.useState)(n),a=c[0],u=c[1],l=Object(i.useCallback)((function(e){u(e),null===t||void 0===t||t(e)}),[t]);return p(j.Provider,{value:l},p(g.Provider,{value:a},p(h,{className:o},r)))},y=o.a.createElement,w=Object(a.p)(36),k=Object(a.p)(72),C=Object(a.p)(144),x=v.c.a.withConfig({displayName:"RadioButton__Button",componentId:"sc-1e983se-0"})(["cursor:pointer;background-color:",";color:",";height:",";line-height:calc("," - 2px);min-width:",";text-align:center;"," ",";"," "," &:hover{border-color:",";}&:first-of-type{","}&:last-of-type{","}& + &{margin-left:-1px;}"],(function(e){return e.selected?a.D:a.c}),(function(e){return e.selected?a.K:a.J}),w,w,k,Object(a.o)(C),(function(e){return Object(a.G)({color:e.selected?a.D:a.f})}),Object(a.N)(["color","border-color","background-color"]),(function(e){return e.selected?"position: relative;":""}),(function(e){return e.selected?a.D:a.g}),Object(a.i)("left",a.h),Object(a.i)("right",a.h)),E=function(e){var n=e.className,t=e.value,r=e.selected,o=e.title,c=e.children,a=Object(i.useContext)(g),u=Object(i.useContext)(j),l=Object(i.useCallback)((function(){t&&u&&a!==t&&u(t)}),[t,u,a]);return y(x,{className:n,title:o,selected:a===t||r,onClick:l},c)},P=t("Obvh"),_=t("bbjh"),N=t("C34g"),S=t("7xIC"),D=t("O1Fn"),I=t("XPj2"),R=o.a.createElement,z=["2d","3d"],F=["pca","tsne"],A=Object(v.c)(b.a).withConfig({displayName:"high-dimensional__StyledIcon",componentId:"sc-1mk5cn7-0"})(["margin-right:",";vertical-align:middle;"],Object(a.p)(4)),T=v.c.div.withConfig({displayName:"high-dimensional__AsideTitle",componentId:"sc-1mk5cn7-1"})(["font-size:",";line-height:",";font-weight:700;margin-bottom:",";"],Object(a.F)(16),Object(a.F)(16),Object(a.F)(10)),M=function(){var e=Object(r.d)(["high-dimensional","common"]).t,n=Object(i.useState)(!0),t=n[0],a=n[1],b=Object(S.useRouter)().query,v=Array.isArray(b.run)?b.run[0]:b.run,p=Object(D.b)("/runs",t),h=p.data,g=p.error,j=p.loading,y=(null===h||void 0===h?void 0:h.includes(v))?v:null===h||void 0===h?void 0:h[0],w=Object(i.useState)(y),k=w[0],C=w[1];Object(i.useEffect)((function(){return C(y)}),[C,y]);var x=Object(i.useState)(""),M=x[0],K=x[1],L=Object(I.a)(M),J=Object(i.useState)(z[0]),W=J[0],B=J[1],G=Object(i.useState)(F[0]),Z=G[0],q=G[1],H=Object(i.useState)(!0),X=H[0],V=H[1],Q=R("section",null,R(T,null,e("common:select-runs")),R(c.a,{list:h,value:k,onChange:function(e){return C(e)}}),R(u.a,null),R(d.a,null,R(_.a,{placeholder:e("common:search"),value:M,onChange:K})),R(d.a,null,R(l.a,{value:X,onChange:V},e("display-all-label"))),R(u.a,null),R(T,null,R(A,{type:"dimension"}),e("dimension")),R(d.a,null,R(O,{value:W,onChange:function(e){return B(e)}},z.map((function(n){return R(E,{key:n,value:n},e(n))})))),R(u.a,null),R(T,null,R(A,{type:"reduction"}),e("reduction-method")),R(d.a,null,R(O,{value:Z,onChange:function(e){return q(e)}},F.map((function(n){return R(E,{key:n,value:n},e(n))})))),R(P.a,{running:t,onToggle:a}));return R(o.a.Fragment,null,R(m.a,{url:"/runs"}),R(N.a,null,e("common:high-dimensional")),R(s.a,{aside:Q,loading:j},g?R("div",null,e("common:error")):j?null:R(f.a,{dimension:W,keyword:L,run:null!==k&&void 0!==k?k:"",running:t,labelVisibility:X,reduction:Z})))};M.getInitialProps=function(){return{namespacesRequired:["high-dimensional","common"]}};n.default=M},kF6i:function(e,n,t){"use strict";var r=t("VtSi"),i=t.n(r),o=t("ERkP"),c=t("r8eb");n.a=function(e){var n=Object(o.useRef)(null),r=Object(o.useRef)(null),a=Object(o.useState)(null),u=a[0],l=a[1],s=Object(o.useCallback)((function(){!function(){var o;i.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,i.a.awrap(t.e(7).then(t.t.bind(null,"Ckg4",7)));case 2:if(o=c.sent,!e.gl){c.next=6;break}return c.next=6,i.a.awrap(Promise.all([t.e(14),t.e(7)]).then(t.t.bind(null,"CGrq",7)));case 6:r.current=o.init(n.current),e.zoom&&setTimeout((function(){var e;null===(e=r.current)||void 0===e||e.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!0})}),0),l(r);case 9:case"end":return c.stop()}}),null,null,null,Promise)}()}),[e.gl,e.zoom]),d=Object(o.useCallback)((function(){var e;null===(e=r.current)||void 0===e||e.dispose(),l(null)}),[]);return Object(o.useEffect)((function(){return s(),function(){return d()}}),[s,d]),Object(o.useEffect)((function(){var n,t;u&&(e.loading?null===(n=r.current)||void 0===n||n.showLoading("default",{text:"",color:c.D,textColor:c.J,maskColor:c.w,zlevel:0}):null===(t=r.current)||void 0===t||t.hideLoading())}),[e.loading,u]),{ref:n,echart:u}}},roxr:function(e,n,t){"use strict";var r=t("zjfJ"),i=t("ERkP"),o=t.n(i),c=t("r8eb"),a=t("zqQH"),u=t.n(a),l=t("j/s1"),s=t("kF6i"),d=o.a.createElement;function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){Object(r.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var m=l.c.div.withConfig({displayName:"ScatterChart__Wrapper",componentId:"nafbih-0"})(["position:relative;> .echarts{height:100%;}> .loading{"," "," display:flex;justify-content:center;align-items:center;}"],Object(c.B)("absolute",0,null,null,0),Object(c.I)("100%")),v={xAxis:{},yAxis:{},toolbox:{show:!0,showTitle:!1,itemSize:0,feature:{dataZoom:{},restore:{},saveAsImage:{}}}},p={grid3D:{},xAxis3D:{},yAxis3D:{},zAxis3D:{}},h={symbolSize:12,type:"scatter"},g={symbolSize:12,type:"scatter3D"};n.a=function(e){var n=e.data,t=e.loading,r=e.gl,o=e.className,a=Object(s.a)({loading:t,gl:r}),l=a.ref,f=a.echart,j=Object(i.useMemo)((function(){var e;return b({},r?p:v,{series:null!==(e=null===n||void 0===n?void 0:n.map((function(e){return b({},r?g:h,{},e)})))&&void 0!==e?e:[]})}),[r,n]);return Object(i.useEffect)((function(){var e;null===f||void 0===f||null===(e=f.current)||void 0===e||e.setOption(j,{notMerge:!0})}),[j,f]),d(m,{className:o},!f&&d("div",{className:"loading"},d(u.a,{color:c.D,size:"10px"})),d("div",{className:"echarts",ref:l}))}},wK9i:function(e,n,t){"use strict";var r=t("ERkP"),i=t.n(r),o=t("r8eb"),c=t("j/s1"),a=i.a.createElement,u=c.c.div.withConfig({displayName:"Field__Wrapper",componentId:"ytm6hc-0"})(["& + &{margin-top:",";}"],Object(o.F)(20)),l=c.c.div.withConfig({displayName:"Field__Label",componentId:"ytm6hc-1"})(["margin-bottom:",";"],Object(o.F)(10));n.a=function(e){var n=e.label,t=e.children,r=e.className;return a(u,{className:r},n&&a(l,null,n),t)}}},[["FvZk",1,2,0,3,5,4,6,9]]]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"DtL+":function(e,n,t){"use strict";(function(e){var r=t("OnzC"),i=t("mXGw"),o=t.n(i),c=t("r8eb"),a=t("roxr"),u=t("NWgQ"),l=t.n(u),s=t("UutA"),d=t("RbC2"),f=t("O1Fn"),b=t("9bu8"),m=o.a.createElement,v=Object(c.F)(600),h=function(){return t.e(11).then(t.bind(null,"ppfC")).then((function(e){var n=e.divide;return function(e){var t;return n(e.points,e.labels,!!e.visibility,null!==(t=e.keyword)&&void 0!==t?t:"")}}))},p=function(){return new Worker(e)},g=Object(s.c)(a.a).withConfig({displayName:"HighDimensionalChart__StyledScatterChart",componentId:"i3h5jz-0"})(["height:",";"],v),O=s.c.div.withConfig({displayName:"HighDimensionalChart__Empty",componentId:"i3h5jz-1"})(["display:flex;justify-content:center;align-items:center;font-size:",";height:",";"],Object(c.F)(20),v),j={show:!0,position:"top",formatter:function(e){return e.data.showing?e.data.name:""}};n.a=function(e){var n=e.run,t=e.running,o=e.labelVisibility,a=e.keyword,u=e.reduction,s=e.dimension,v=Object(b.d)("common").t,y=Object(f.b)("/embeddings/embedding?".concat(l.a.stringify({run:null!==n&&void 0!==n?n:"",dimension:Number.parseInt(s),reduction:u})),!!t),w=y.data,C=y.error,k=y.loading,x=Object(i.useMemo)((function(){var e,n;return{points:null!==(e=null===w||void 0===w?void 0:w.embedding)&&void 0!==e?e:[],keyword:a,labels:null!==(n=null===w||void 0===w?void 0:w.labels)&&void 0!==n?n:[],visibility:o}}),[w,o,a]),N=Object(d.a)(h,p,r.divide,x),_=Object(i.useMemo)((function(){var e,n;return[{name:"highlighted",data:null!==(e=null===N||void 0===N?void 0:N[0])&&void 0!==e?e:[],label:j},{name:"others",data:null!==(n=null===N||void 0===N?void 0:N[1])&&void 0!==n?n:[],label:j,color:c.D}]}),[N]);return!w&&C?m(O,null,v("error")):w||k?m(g,{loading:k,data:_,gl:"3d"===s}):m(O,null,v("empty"))}}).call(this,t("Pbe3"))},IMpY:function(e,n){},OnzC:function(e,n,t){"use strict";t.d(n,"divide",(function(){return r}));t("IMpY");var r=function(e){var n=e.points,t=e.keyword;return function(e,n){if(!n)return[[],e];var t=[],r=[];return e.forEach((function(e){e.name.includes(n)?t.push(e):r.push(e)})),[t,r]}(function(e,n,t){return e.map((function(e,r){return{name:n[r]||"",showing:!!t,value:e}}))}(n,e.labels,e.visibility),t)}},Pbe3:function(e,n,t){e.exports=t.p+"static/chunks/2.7d0cbf3b98ad4468c2cd.worker.js"},RbC2:function(e,n,t){"use strict";var r=t("mXGw");n.a=function(e,n,t,i){var o=Object(r.useRef)(null),c=Object(r.useRef)(null),a=Object(r.useState)(void 0),u=a[0],l=a[1],s=Object(r.useCallback)((function(e){return t&&l(t(e))}),[t]);return Object(r.useEffect)((function(){try{var t,r,a,u;if(e&&"undefined"!==typeof WebAssembly)return o.current||(o.current=e()),void(null===(t=o.current)||void 0===t||t.then((function(e){return l(e(i))})).catch((function(){return s(i)})));if(n&&"undefined"!==typeof Worker)return c.current||(c.current=n()),null===(r=c.current)||void 0===r||r.postMessage(i),null===(a=c.current)||void 0===a||a.addEventListener("message",(function(e){var n=e.data;return l(n)})),void(null===(u=c.current)||void 0===u||u.addEventListener("error",(function(){return s(i)})))}catch(d){0,s(i)}s(i)}),[e,n,s,i]),u}},XPj2:function(e,n,t){"use strict";var r=t("mXGw"),i=function(e,n){var t=Object(r.useState)(e),i=t[0],o=t[1];return Object(r.useEffect)((function(){var t=setTimeout((function(){o(e)}),n);return function(){return clearTimeout(t)}}),[e,n]),i},o=function(e){return Array.isArray(e)&&!e.length||"string"===typeof e&&""===e};n.a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:275,t=i(e,n);return o(e)?e:o(t)?e:t}},ioac:function(e,n,t){"use strict";t.r(n);var r=t("9bu8"),i=t("mXGw"),o=t.n(i),c=t("gI5n"),a=t("r8eb"),u=t("KBf4"),l=t("PKwP"),s=t("QRo2"),d=t("wK9i"),f=t("DtL+"),b=t("TpTG"),m=t("1HTM"),v=t("UutA"),h=o.a.createElement,p=v.c.div.withConfig({displayName:"RadioGroup__Wrapper",componentId:"u4ef1v-0"})(["display:inline-flex;> *{flex-shrink:0;align-items:flex-start;}"]),g=Object(i.createContext)(null),O=Object(i.createContext)((function(){})),j=function(e){var n=e.value,t=e.onChange,r=e.children,o=e.className,c=Object(i.useState)(n),a=c[0],u=c[1],l=Object(i.useCallback)((function(e){u(e),null===t||void 0===t||t(e)}),[t]);return h(O.Provider,{value:l},h(g.Provider,{value:a},h(p,{className:o},r)))},y=o.a.createElement,w=Object(a.p)(36),C=Object(a.p)(72),k=Object(a.p)(144),x=v.c.a.withConfig({displayName:"RadioButton__Button",componentId:"sc-1e983se-0"})(["cursor:pointer;background-color:",";color:",";height:",";line-height:calc("," - 2px);min-width:",";text-align:center;"," ",";"," "," &:hover{border-color:",";}&:first-of-type{","}&:last-of-type{","}& + &{margin-left:-1px;}"],(function(e){return e.selected?a.D:a.c}),(function(e){return e.selected?a.K:a.J}),w,w,C,Object(a.o)(k),(function(e){return Object(a.G)({color:e.selected?a.D:a.f})}),Object(a.N)(["color","border-color","background-color"]),(function(e){return e.selected?"position: relative;":""}),(function(e){return e.selected?a.D:a.g}),Object(a.i)("left",a.h),Object(a.i)("right",a.h)),N=function(e){var n=e.className,t=e.value,r=e.selected,o=e.title,c=e.children,a=Object(i.useContext)(g),u=Object(i.useContext)(O),l=Object(i.useCallback)((function(){t&&u&&a!==t&&u(t)}),[t,u,a]);return y(x,{className:n,title:o,selected:a===t||r,onClick:l},c)},_=t("Obvh"),P=t("bbjh"),S=t("C34g"),E=t("bBV7"),D=t("O1Fn"),A=t("XPj2"),I=o.a.createElement,z=["2d","3d"],F=["pca","tsne"],X=Object(v.c)(b.a).withConfig({displayName:"high-dimensional__StyledIcon",componentId:"sc-1mk5cn7-0"})(["margin-right:",";vertical-align:middle;"],Object(a.p)(4)),G=v.c.div.withConfig({displayName:"high-dimensional__AsideTitle",componentId:"sc-1mk5cn7-1"})(["font-size:",";line-height:",";font-weight:700;margin-bottom:",";"],Object(a.F)(16),Object(a.F)(16),Object(a.F)(10)),R=function(){var e=Object(r.d)(["high-dimensional","common"]).t,n=Object(i.useState)(!0),t=n[0],a=n[1],b=Object(E.useRouter)().query,v=Array.isArray(b.run)?b.run[0]:b.run,h=Object(D.b)("/runs",t),p=h.data,g=h.error,O=h.loading,y=(null===p||void 0===p?void 0:p.includes(v))?v:null===p||void 0===p?void 0:p[0],w=Object(i.useState)(y),C=w[0],k=w[1];Object(i.useEffect)((function(){return k(y)}),[k,y]);var x=Object(i.useState)(""),R=x[0],T=x[1],M=Object(A.a)(R),L=Object(i.useState)(z[0]),W=L[0],K=L[1],B=Object(i.useState)(F[0]),U=B[0],J=B[1],q=Object(i.useState)(!0),H=q[0],V=q[1],Z=I("section",null,I(G,null,e("common:select-runs")),I(c.a,{list:p,value:C,onChange:function(e){return k(e)}}),I(u.a,null),I(d.a,null,I(P.a,{placeholder:e("common:search"),value:R,onChange:T})),I(d.a,null,I(l.a,{value:H,onChange:V},e("display-all-label"))),I(u.a,null),I(G,null,I(X,{type:"dimension"}),e("dimension")),I(d.a,null,I(j,{value:W,onChange:function(e){return K(e)}},z.map((function(n){return I(N,{key:n,value:n},e(n))})))),I(u.a,null),I(G,null,I(X,{type:"reduction"}),e("reduction-method")),I(d.a,null,I(j,{value:U,onChange:function(e){return J(e)}},F.map((function(n){return I(N,{key:n,value:n},e(n))})))),I(_.a,{running:t,onToggle:a}));return I(o.a.Fragment,null,I(m.a,{url:"/runs"}),I(S.a,null,e("common:high-dimensional")),I(s.a,{aside:Z,loading:O},g?I("div",null,e("common:error")):O?null:I(f.a,{dimension:W,keyword:M,run:null!==C&&void 0!==C?C:"",running:t,labelVisibility:H,reduction:U})))};R.getInitialProps=function(){return{namespacesRequired:["high-dimensional","common"]}};n.default=R},kF6i:function(e,n,t){"use strict";var r=t("NthX"),i=t.n(r),o=t("mXGw"),c=t("r8eb");n.a=function(e){var n=Object(o.useRef)(null),r=Object(o.useRef)(null),a=Object(o.useState)(null),u=a[0],l=a[1],s=Object(o.useCallback)((function(){!function(){var o;i.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,i.a.awrap(t.e(7).then(t.t.bind(null,"76yO",7)));case 2:if(o=c.sent,!e.gl){c.next=6;break}return c.next=6,i.a.awrap(Promise.all([t.e(14),t.e(7)]).then(t.t.bind(null,"uUv2",7)));case 6:r.current=o.init(n.current),e.zoom&&setTimeout((function(){var e;null===(e=r.current)||void 0===e||e.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!0})}),0),l(r);case 9:case"end":return c.stop()}}),null,null,null,Promise)}()}),[e.gl,e.zoom]),d=Object(o.useCallback)((function(){var e;null===(e=r.current)||void 0===e||e.dispose(),l(null)}),[]);return Object(o.useEffect)((function(){return s(),function(){return d()}}),[s,d]),Object(o.useEffect)((function(){var n,t;u&&(e.loading?null===(n=r.current)||void 0===n||n.showLoading("default",{text:"",color:c.D,textColor:c.J,maskColor:c.w,zlevel:0}):null===(t=r.current)||void 0===t||t.hideLoading())}),[e.loading,u]),{ref:n,echart:u}}},m9Cg:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/high-dimensional",function(){return t("ioac")}])},roxr:function(e,n,t){"use strict";var r=t("mK0O"),i=t("mXGw"),o=t.n(i),c=t("r8eb"),a=t("i86q"),u=t.n(a),l=t("UutA"),s=t("kF6i"),d=o.a.createElement;function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){Object(r.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var m=l.c.div.withConfig({displayName:"ScatterChart__Wrapper",componentId:"nafbih-0"})(["position:relative;> .echarts{height:100%;}> .loading{"," "," display:flex;justify-content:center;align-items:center;}"],Object(c.B)("absolute",0,null,null,0),Object(c.I)("100%")),v={xAxis:{},yAxis:{},toolbox:{show:!0,showTitle:!1,itemSize:0,feature:{dataZoom:{},restore:{},saveAsImage:{}}}},h={grid3D:{},xAxis3D:{},yAxis3D:{},zAxis3D:{}},p={symbolSize:12,type:"scatter"},g={symbolSize:12,type:"scatter3D"};n.a=function(e){var n=e.data,t=e.loading,r=e.gl,o=e.className,a=Object(s.a)({loading:t,gl:r}),l=a.ref,f=a.echart,O=Object(i.useMemo)((function(){var e;return b({},r?h:v,{series:null!==(e=null===n||void 0===n?void 0:n.map((function(e){return b({},r?g:p,{},e)})))&&void 0!==e?e:[]})}),[r,n]);return Object(i.useEffect)((function(){var e;null===f||void 0===f||null===(e=f.current)||void 0===e||e.setOption(O,{notMerge:!0})}),[O,f]),d(m,{className:o},!f&&d("div",{className:"loading"},d(u.a,{color:c.D,size:"10px"})),d("div",{className:"echarts",ref:l}))}},wK9i:function(e,n,t){"use strict";var r=t("mXGw"),i=t.n(r),o=t("r8eb"),c=t("UutA"),a=i.a.createElement,u=c.c.div.withConfig({displayName:"Field__Wrapper",componentId:"ytm6hc-0"})(["& + &{margin-top:",";}"],Object(o.F)(20)),l=c.c.div.withConfig({displayName:"Field__Label",componentId:"ytm6hc-1"})(["margin-bottom:",";"],Object(o.F)(10));n.a=function(e){var n=e.label,t=e.children,r=e.className;return a(u,{className:r},n&&a(l,null,n),t)}}},[["m9Cg",1,2,0,3,5,4,6,9]]]);
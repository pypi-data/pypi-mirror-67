Metadata-Version: 2.1
Name: tomwer
Version: 0.5.0b1
Summary: Library for tomography workflow
Home-page: https://gitlab.esrf.fr/tomotools/tomwer
Author: data analysis unit
Author-email: henri.payno@esrf.fr
License: UNKNOWN
Platform: UNKNOWN
Classifier: Development Status :: 4 - Beta
Classifier: Environment :: Console
Classifier: Environment :: X11 Applications :: Qt
Classifier: Intended Audience :: Education
Classifier: Intended Audience :: Science/Research
Classifier: License :: OSI Approved :: MIT License
Classifier: Natural Language :: English
Classifier: Operating System :: POSIX
Classifier: Programming Language :: Python :: 3.5
Classifier: Programming Language :: Python :: 3.6
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Topic :: Scientific/Engineering :: Physics
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Dist: numpy (>=1.18.1)
Requires-Dist: setuptools
Requires-Dist: Orange3

Orange3 ESRF Add-on
======================

Tomwer is offering tools to automate acquisition and reconstruction processes for Tomography.
It contains:

- a library to access each acquisition process individually
- gui and applications to control main processes (reconstruction, data transfert...) and execute them as a stand alone application.
- an orange add-on to help users defining their own workflow (http://orange.biolab.si)


.. |Gitlab Status| image:: https://gitlab.esrf.fr/tomotools/tomwer/badges/master/pipeline.svg
    :target: https://gitlab.esrf.fr/tomotools/tomwer/pipelines


Documentation
-------------

Documentation of latest release is available at http://www.edna-site.org/pub/doc/tomwer/latest

Installation
------------

Step 0 - Create a virtual env
'''''''''''''''''''''''''''''

It is recommended to create a python virtual environment to run the workflow tool.
Virtual environment might avoid some conflict between python packages. But you can also install it on your 'current' python environment and move to step 1.

.. code-block:: bash

   virtualenv --python=python3 --system-site-packages myvirtualenv


Then activate the virtual environment

.. code-block:: bash

   source myvirtualenv/bin/activate


First update pip and setuptools to avoid some potential errors

.. code-block:: bash

   pip install --upgrade pip
   pip install setuptools --upgrade


.. note:: To quit the virtual environment

   .. code-block:: bash

      deactivate

Step 1 - Orange3 installation
'''''''''''''''''''''''''''''

You will need a fork of the original Orange project in order to run the tomwer project.
This is needed because small modification have been made in order to get the behavio we wanted (has looping workflows).

The fork is accessible here : https://github.com/payno/orange3.git

So install this fork :

.. code-block:: bash

   git clone https://github.com/payno/orange3.git
   cd orange3
   pip install -r requirements.txt
   pip install -r requirements-gui.txt
   pip install .

.. note:: if you have an old PyQt version, you might need to have a look at https://pythonhosted.org/silx/virtualenv.html?highlight=virtualenv to avoid rebuild of sip... you might want to create a symbolic link:

   If you want to use PyQt4 installed in */usr/lib/python2.7/dist-packages/*:

   .. code-block:: bash

      ln -s /usr/lib/python2.7/dist-packages/PyQt4 silx_venv/lib/python2.7/site-packages/
      ln -s /usr/lib/python2.7/dist-packages/sip.so silx_venv/lib/python2.7/site-packages/


Step 2 - tomwer
'''''''''''''''

clone the tomwer project

.. code-block:: bash

   git clone git@gitlab.esrf.fr:payno/tomwer.git


then install it

.. code-block:: bash

   cd tomwer
   pip install -r requirements.txt
   pip install -e .


.. note:: -e option will register the add-on into Orange, but you shouldn't copy it into the Python's site-packages directory. This is due to the Orange add-on installation procedure. That mean also that any modification into this source code will be apply during execution time.


Make sure the installation whent well, and that Orange is running correctly.

.. code-block:: bash

   python run_tests.py

Unit test should be executed without any error.


Step 3 - web log
''''''''''''''''

the workflow tool can send some log into graylog in order to get view of the status of the workflow execution.
If this is active (by default) then you will be able to see important log from a web interface.

To get more information see https://www.graylog.org/


Launching Orange
::::::::::::::::

you can simply execute the command:

.. code-block:: bash

   orange-canvas


.. note:: if your installed a virtual environment do not forget to active it :

.. code-block:: bash

   source myvirtualenv/bin/activate


Documentation
:::::::::::::

.. code-block:: bash

   cd doc
   make html

The documentation is build in doc/build/html and the entry point is index.html

.. code-block:: bash

   firefox build/html/index.html

.. note:: the build of the documentation need sphinx to be installed. This is not an hard dependacy. So you might need to install it.


You also should generate documentation to be accessible from Orange GUI (pressing the F1 key).

.. code-block:: bash

   cd doc
   make htmlhelp


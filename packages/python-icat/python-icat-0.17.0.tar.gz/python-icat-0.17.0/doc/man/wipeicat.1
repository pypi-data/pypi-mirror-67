.\" Man page generated from reStructuredText.
.
.TH "WIPEICAT" "1" "Apr 30, 2020" "0.17" "python-icat"
.SH NAME
wipeicat \- Delete all content from an ICAT
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.sp
\fBwipeicat\fP [\fIoptions\fP]
.SH DESCRIPTION
.sp
Delete all content from an ICAT server.
.sp
In order to avoid leaving orphan content in the IDS server behind, the
script first tries to delete all Datafiles having the
\fBlocation\fP attribute set from the IDS
server.  If deleting the Datafiles succeeded, the remaing content is
deleted from ICAT in palatable chunks.
.SH OPTIONS
.sp
The configuration options may be set in the command line or in a
configuration file.  Some options may also be set in the environment.
.sp
These options are needed to connect the ICAT service and are common
for most python\-icat scripts.
.INDENT 0.0
.TP
.B \-h, \-\-help
Display a help message and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-c CONFIGFILE, \-\-configfile CONFIGFILE
Name of a configuration file.
.UNINDENT
.INDENT 0.0
.TP
.B \-s SECTION, \-\-configsection SECTION
Name of a section in the configuration file.  If set, the values
in this configuration section will be applied to define other
options.
.UNINDENT
.INDENT 0.0
.TP
.B \-w URL, \-\-url URL
URL of the ICAT server.  This should point to the web service
descriptions.  If the URL has no path component, a default path
will be added.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-no\-check\-certificate
Do not verify the ICAT server\(aqs TLS certificate.  This is only
relevant if the URL set with \fI\%\-\-url\fP uses HTTPS.  It is
mostly only useful for connecting a test server that does not have
a trusted certificate.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-http\-proxy HTTP_PROXY
Proxy to use for http requests.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-https\-proxy HTTPS_PROXY
Proxy to use for https requests.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-no\-proxy NO_PROXY
Comma separated list of exclusions for proxy use.
.UNINDENT
.INDENT 0.0
.TP
.B \-a AUTH, \-\-auth AUTH
Name of the authentication plugin to use for login to the ICAT
server.
.UNINDENT
.INDENT 0.0
.TP
.B \-u USERNAME, \-\-user USERNAME
The ICAT user name.
.UNINDENT
.INDENT 0.0
.TP
.B \-p PASSWORD, \-\-pass PASSWORD
The user\(aqs password.  Will prompt for the password if not set.
.UNINDENT
.INDENT 0.0
.TP
.B \-P, \-\-prompt\-pass
Prompt for the password.  This is mostly useful to override a
password set in the configuration file.
.UNINDENT
.SH KNOWN ISSUES WITH OLD IDS VERSIONS
.sp
The recommended version of the IDS server is 1.6.0 or newer.  The
script does not take any particular measure to work around issues in
servers older than that.  In particular, the script mail fail or leave
rubbish behind in the following situations:
.INDENT 0.0
.IP \(bu 2
The IDS server is older then 1.6.0 and there is any Dataset with
many Datafiles, see \fI\%IDS Issue #42\fP\&.
.IP \(bu 2
The IDS server is older then 1.3.0 and restoring of any Dataset
takes a significant amount of time, see \fI\%IDS Issue #14\fP\&.
.UNINDENT
.sp
The script does however take care not trying to delete any Datafile
having a NULL \fBlocation\fP attribute in
order to work around \fI\%IDS Issue #63\fP in IDS server older then 1.9.0.
.SH ENVIRONMENT VARIABLES
.INDENT 0.0
.TP
.B ICAT_CFG
Name of a configuration file, see \fI\%\-\-configfile\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B ICAT_CFG_SECTION
Name of a section in the configuration file, see
\fI\%\-\-configsection\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B ICAT_SERVICE
URL of the ICAT server, see \fI\%\-\-url\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B http_proxy
Proxy to use for http requests, see \fI\%\-\-http\-proxy\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B https_proxy
Proxy to use for https requests, see \fI\%\-\-https\-proxy\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B no_proxy
Exclusions for proxy use, see \fI\%\-\-no\-proxy\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B ICAT_AUTH
Name of the authentication plugin, see \fI\%\-\-auth\fP\&.
.UNINDENT
.INDENT 0.0
.TP
.B ICAT_USER
ICAT user name, see \fI\%\-\-user\fP\&.
.UNINDENT
.SH AUTHOR
Rolf Krahl
.SH COPYRIGHT
2013–2020, Helmholtz-Zentrum Berlin für Materialien und Energie GmbH
.\" Generated by docutils manpage writer.
.

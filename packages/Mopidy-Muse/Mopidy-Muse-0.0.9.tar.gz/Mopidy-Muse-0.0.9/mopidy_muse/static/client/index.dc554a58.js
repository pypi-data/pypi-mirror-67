import{S as a,a as s,s as l,m as t,k as c,a3 as n,z as r,B as e,g as o,e as i,b as u,t as f,c as h,d as m,f as d,h as p,j as $,w as g,l as v,p as b,r as E,q as k,P as w,D as y,I,U as D,J as V,R as T,T as P,n as C,A as N,L as x,a4 as A,u as O,v as B,x as U,C as M,a5 as S,a6 as q,i as R,a7 as j,a8 as H,a9 as z,aa as F,ab as J,_ as L,N as _,ac as G,ad as K,ae as Q,af as W}from"./client.9b679ce0.js";function X(a){let s,l,i,u={ctx:a,current:null,token:null,pending:la,then:Z,catch:Y,value:9,error:10,blocks:[,,,]};return n(l=a[2],u),{c(){s=t(),u.block.c()},l(a){s=t(),u.block.l(a)},m(a,l){c(a,s,l),u.block.m(a,u.anchor=l),u.mount=(()=>s.parentNode),u.anchor=s,i=!0},p(s,t){if(a=s,u.ctx=a,4&t&&l!==(l=a[2])&&n(l,u));else{const s=a.slice();s[9]=u.resolved,u.block.p(s,t)}},i(a){i||(r(u.block),i=!0)},o(a){for(let a=0;a<3;a+=1){const s=u.blocks[a];e(s)}i=!1},d(a){a&&o(s),u.block.d(a),u.token=null,u=null}}}function Y(a){let s,l=a[10].message+"";return{c(){s=f(l)},l(a){s=p(a,l)},m(a,l){c(a,s,l)},p(a,t){4&t&&l!==(l=a[10].message+"")&&C(s,l)},i:N,o:N,d(a){a&&o(s)}}}function Z(a){let s,l,n,i;const u=[sa,aa],f=[];function h(a,s){return a[9]?0:1}return s=h(a),l=f[s]=u[s](a),{c(){l.c(),n=t()},l(a){l.l(a),n=t()},m(a,l){f[s].m(a,l),c(a,n,l),i=!0},p(a,t){let c=s;(s=h(a))===c?f[s].p(a,t):(w(),e(f[c],1,1,()=>{f[c]=null}),y(),(l=f[s])||(l=f[s]=u[s](a)).c(),r(l,1),l.m(n.parentNode,n))},i(a){i||(r(l),i=!0)},o(a){e(l),i=!1},d(a){f[s].d(a),a&&o(n)}}}function aa(a){let s;return{c(){s=f("Error")},l(a){s=p(a,"Error")},m(a,l){c(a,s,l)},p:N,i:N,o:N,d(a){a&&o(s)}}}function sa(a){let s,l;const t=new x({props:{icon:S,class:"icon"}});return{c(){s=i("button"),O(t.$$.fragment),this.h()},l(a){s=h(a,"BUTTON",{class:!0});var l=m(s);B(t.$$.fragment,l),l.forEach(o),this.h()},h(){$(s,"class","button")},m(a,n){c(a,s,n),U(t,s,null),l=!0},p:N,i(a){l||(r(t.$$.fragment,a),l=!0)},o(a){e(t.$$.fragment,a),l=!1},d(a){a&&o(s),M(t)}}}function la(a){let s,l;const t=new x({props:{icon:A,spin:!0,class:"icon"}});return{c(){s=i("button"),O(t.$$.fragment),this.h()},l(a){s=h(a,"BUTTON",{class:!0});var l=m(s);B(t.$$.fragment,l),l.forEach(o),this.h()},h(){$(s,"class","button")},m(a,n){c(a,s,n),U(t,s,null),l=!0},p:N,i(a){l||(r(t.$$.fragment,a),l=!0)},o(a){e(t.$$.fragment,a),l=!1},d(a){a&&o(s),M(t)}}}function ta(a){let s,l,t,n,I,D,V,T,P,C,N,x,A,O,B,U,M,S,q,R,j,H=a[2]&&X(a);return{c(){s=i("div"),l=i("div"),t=u(),n=i("div"),I=i("header"),D=i("p"),V=f("Create playlist"),T=u(),P=i("button"),C=u(),N=i("section"),x=i("input"),A=u(),O=i("footer"),B=i("button"),U=f("Save changes"),M=u(),H&&H.c(),S=u(),q=i("button"),this.h()},l(a){s=h(a,"DIV",{class:!0});var c=m(s);l=h(c,"DIV",{class:!0}),m(l).forEach(o),t=d(c),n=h(c,"DIV",{class:!0});var r=m(n);I=h(r,"HEADER",{class:!0});var e=m(I);D=h(e,"P",{class:!0});var i=m(D);V=p(i,"Create playlist"),i.forEach(o),T=d(e),P=h(e,"BUTTON",{class:!0,"aria-label":!0}),m(P).forEach(o),e.forEach(o),C=d(r),N=h(r,"SECTION",{class:!0});var u=m(N);x=h(u,"INPUT",{class:!0,type:!0,name:!0,id:!0}),u.forEach(o),A=d(r),O=h(r,"FOOTER",{class:!0});var f=m(O);B=h(f,"BUTTON",{class:!0});var $=m(B);U=p($,"Save changes"),$.forEach(o),M=d(f),H&&H.l(f),f.forEach(o),r.forEach(o),S=d(c),q=h(c,"BUTTON",{class:!0,"aria-label":!0}),m(q).forEach(o),c.forEach(o),this.h()},h(){$(l,"class","modal-background"),$(D,"class","modal-card-title"),$(P,"class","delete"),$(P,"aria-label","close"),$(I,"class","modal-card-head"),$(x,"class","input"),$(x,"type","text"),$(x,"name","playlist name"),$(x,"id","playlist name"),$(N,"class","modal-card-body"),$(B,"class","button is-success"),$(O,"class","modal-card-foot"),$(n,"class","modal-card"),$(q,"class","modal-close is-large"),$(q,"aria-label","close"),$(s,"class","modal"),g(s,"is-active",a[0])},m(r,e,o){c(r,s,e),v(s,l),v(s,t),v(s,n),v(n,I),v(I,D),v(D,V),v(I,T),v(I,P),v(n,C),v(n,N),v(N,x),b(x,a[1]),v(n,A),v(n,O),v(O,B),v(B,U),v(O,M),H&&H.m(O,null),v(s,S),v(s,q),R=!0,o&&E(j),j=[k(l,"click",a[6]),k(x,"input",a[7]),k(B,"click",a[3]),k(q,"click",a[8])]},p(a,[l]){2&l&&x.value!==a[1]&&b(x,a[1]),a[2]?H?(H.p(a,l),r(H,1)):((H=X(a)).c(),r(H,1),H.m(O,null)):H&&(w(),e(H,1,1,()=>{H=null}),y()),1&l&&g(s,"is-active",a[0])},i(a){R||(r(H),R=!0)},o(a){e(H),R=!1},d(a){a&&o(s),H&&H.d(),E(j)}}}function ca(a,s,l){let t;I(a,D,a=>l(4,t=a));let c,n="",{showCreatePlaylistModal:r}=s;V(async()=>{T(D,t=await P())});const e=async()=>{return!!await t.playlists.create({name:n})&&(setTimeout(()=>{l(0,r=!r)},1500),!0)};return a.$set=(a=>{"showCreatePlaylistModal"in a&&l(0,r=a.showCreatePlaylistModal)}),[r,n,c,()=>{l(2,c=e())},t,e,()=>l(0,r=!r),function(){n=this.value,l(1,n)},()=>l(0,r=!r)]}class na extends a{constructor(a){super(),s(this,a,ca,ta,l,{showCreatePlaylistModal:0})}}function ra(a,s,l){const t=a.slice();return t[5]=s[l],t[7]=l,t}function ea(a){let s,l,t,n;return{c(){s=i("div"),l=i("p"),t=f("loading"),n=u(),this.h()},l(a){s=h(a,"DIV",{class:!0});var c=m(s);l=h(c,"P",{});var r=m(l);t=p(r,"loading"),r.forEach(o),n=d(c),c.forEach(o),this.h()},h(){$(s,"class","list-item")},m(a,r){c(a,s,r),v(s,l),v(l,t),v(s,n)},d(a){a&&o(s)}}}function oa(a){let s,l=a[9].message+"";return{c(){s=f(l)},l(a){s=p(a,l)},m(a,l){c(a,s,l)},p(a,t){2&t&&l!==(l=a[9].message+"")&&C(s,l)},d(a){a&&o(s)}}}function ia(a){let s,l,t,n=(a[8].tracks?a[8].tracks.length:"0")+"";return{c(){s=f("("),l=f(n),t=f(")")},l(a){s=p(a,"("),l=p(a,n),t=p(a,")")},m(a,n){c(a,s,n),c(a,l,n),c(a,t,n)},p(a,s){2&s&&n!==(n=(a[8].tracks?a[8].tracks.length:"0")+"")&&C(l,n)},d(a){a&&o(s),a&&o(l),a&&o(t)}}}function ua(a){let s;return{c(){s=f("loading..")},l(a){s=p(a,"loading..")},m(a,l){c(a,s,l)},p:N,d(a){a&&o(s)}}}function fa(a){let s,l,t,b,w,y,I,D,V,T,P,N,A,S,q,J,Q,W,X,Y,Z,aa,sa,la,ta,ca,na,ra,ea,fa=a[5].name+"",ha={ctx:a,current:null,token:null,pending:ua,then:ia,catch:oa,value:8,error:9};n(D=F(a[5].uri),ha);const ma=new x({props:{icon:L,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});function da(...s){return a[4](a[5],...s)}const pa=new x({props:{icon:_,class:"icon is-small"}}),$a=new x({props:{icon:G,class:"icon is-small"}}),ga=new x({props:{icon:K,class:"icon is-small"}});return{c(){s=i("div"),l=i("div"),t=i("a"),b=f(fa),y=u(),I=i("div"),ha.block.c(),V=u(),T=i("div"),P=i("div"),N=i("div"),O(ma.$$.fragment),A=u(),S=i("div"),q=i("div"),J=i("a"),O(pa.$$.fragment),Q=f(" \n                  Play"),X=u(),Y=i("a"),O($a.$$.fragment),Z=f(" \n                  Shuffle"),sa=u(),la=i("a"),O(ga.$$.fragment),ta=f(" \n                  Add to queue"),na=u(),this.h()},l(a){s=h(a,"DIV",{class:!0});var c=m(s);l=h(c,"DIV",{class:!0});var n=m(l);t=h(n,"A",{class:!0,href:!0});var r=m(t);b=p(r,fa),r.forEach(o),y=d(n),I=h(n,"DIV",{class:!0});var e=m(I);ha.block.l(e),e.forEach(o),V=d(n),T=h(n,"DIV",{class:!0});var i=m(T);P=h(i,"DIV",{class:!0});var u=m(P);N=h(u,"DIV",{class:!0});var f=m(N);B(ma.$$.fragment,f),f.forEach(o),A=d(u),S=h(u,"DIV",{class:!0,id:!0,role:!0});var $=m(S);q=h($,"DIV",{class:!0});var g=m(q);J=h(g,"A",{href:!0,class:!0});var v=m(J);B(pa.$$.fragment,v),Q=p(v," \n                  Play"),v.forEach(o),X=d(g),Y=h(g,"A",{href:!0,class:!0});var E=m(Y);B($a.$$.fragment,E),Z=p(E," \n                  Shuffle"),E.forEach(o),sa=d(g),la=h(g,"A",{href:!0,class:!0});var k=m(la);B(ga.$$.fragment,k),ta=p(k," \n                  Add to queue"),k.forEach(o),g.forEach(o),$.forEach(o),u.forEach(o),i.forEach(o),n.forEach(o),na=d(c),c.forEach(o),this.h()},h(){$(t,"class","column"),$(t,"href",w="playlists/"+a[5].slug),$(I,"class","column is-narrow"),$(N,"class","dropdown-trigger"),$(J,"href",W=null),$(J,"class","dropdown-item"),$(Y,"href",aa=null),$(Y,"class","dropdown-item"),$(la,"href",ca=null),$(la,"class","dropdown-item"),$(q,"class","dropdown-content"),$(S,"class","dropdown-menu"),$(S,"id","dropdown-menu"),$(S,"role","menu"),$(P,"class","dropdown is-right is-up"),g(P,"is-active",a[5].visibility),$(T,"class","column is-narrow"),$(l,"class","columns is-mobile"),$(s,"class","list-item")},m(n,r,e){c(n,s,r),v(s,l),v(l,t),v(t,b),v(l,y),v(l,I),ha.block.m(I,ha.anchor=null),ha.mount=(()=>I),ha.anchor=null,v(l,V),v(l,T),v(T,P),v(P,N),U(ma,N,null),v(P,A),v(P,S),v(S,q),v(q,J),U(pa,J,null),v(J,Q),v(q,X),v(q,Y),U($a,Y,null),v(Y,Z),v(q,sa),v(q,la),U(ga,la,null),v(la,ta),v(s,na),ra=!0,e&&E(ea),ea=[k(N,"click",da),k(J,"click",function(){R(j(a[5].uri))&&j(a[5].uri).apply(this,arguments)}),k(Y,"click",function(){R(H(a[5].uri))&&H(a[5].uri).apply(this,arguments)}),k(la,"click",function(){R(z(a[5].uri))&&z(a[5].uri).apply(this,arguments)})]},p(s,l){if(a=s,(!ra||2&l)&&fa!==(fa=a[5].name+"")&&C(b,fa),(!ra||2&l&&w!==(w="playlists/"+a[5].slug))&&$(t,"href",w),ha.ctx=a,2&l&&D!==(D=F(a[5].uri))&&n(D,ha));else{const s=a.slice();s[8]=ha.resolved,ha.block.p(s,l)}2&l&&g(P,"is-active",a[5].visibility)},i(a){ra||(r(ma.$$.fragment,a),r(pa.$$.fragment,a),r($a.$$.fragment,a),r(ga.$$.fragment,a),ra=!0)},o(a){e(ma.$$.fragment,a),e(pa.$$.fragment,a),e($a.$$.fragment,a),e(ga.$$.fragment,a),ra=!1},d(a){a&&o(s),ha.block.d(),ha.token=null,ha=null,M(ma),M(pa),M($a),M(ga),E(ea)}}}function ha(a){let s,l,t,n,g,b,E,I,D,V,T,P,C;const N=new x({props:{icon:q,class:"icon"}}),A=new na({props:{showCreatePlaylistModal:a[0]}});let S=a[1],R=[];for(let s=0;s<S.length;s+=1)R[s]=fa(ra(a,S,s));const j=a=>e(R[a],1,1,()=>{R[a]=null});let H=null;return S.length||(H=ea()),{c(){s=i("div"),l=i("div"),t=i("h1"),n=f("Playlists"),g=u(),b=i("div"),E=i("a"),O(N.$$.fragment),D=u(),O(A.$$.fragment),V=u(),T=i("div");for(let a=0;a<R.length;a+=1)R[a].c();H&&H.c(),this.h()},l(a){s=h(a,"DIV",{class:!0});var c=m(s);l=h(c,"DIV",{class:!0});var r=m(l);t=h(r,"H1",{class:!0});var e=m(t);n=p(e,"Playlists"),e.forEach(o),r.forEach(o),g=d(c),b=h(c,"DIV",{class:!0});var i=m(b);E=h(i,"A",{class:!0,href:!0});var u=m(E);B(N.$$.fragment,u),u.forEach(o),i.forEach(o),c.forEach(o),D=d(a),B(A.$$.fragment,a),V=d(a),T=h(a,"DIV",{class:!0});var f=m(T);for(let a=0;a<R.length;a+=1)R[a].l(f);H&&H.l(f),f.forEach(o),this.h()},h(){$(t,"class","title"),$(l,"class","column"),$(E,"class","button"),$(E,"href",I=null),$(b,"class","column is-narrow"),$(s,"class","columns is-mobile"),$(T,"class","list is-hoverable")},m(r,e,o){c(r,s,e),v(s,l),v(l,t),v(t,n),v(s,g),v(s,b),v(b,E),U(N,E,null),c(r,D,e),U(A,r,e),c(r,V,e),c(r,T,e);for(let a=0;a<R.length;a+=1)R[a].m(T,null);H&&H.m(T,null),P=!0,o&&C(),C=k(E,"click",a[3])},p(a,[s]){const l={};if(1&s&&(l.showCreatePlaylistModal=a[0]),A.$set(l),2&s){let l;for(S=a[1],l=0;l<S.length;l+=1){const t=ra(a,S,l);R[l]?(R[l].p(t,s),r(R[l],1)):(R[l]=fa(t),R[l].c(),r(R[l],1),R[l].m(T,null))}for(w(),l=S.length;l<R.length;l+=1)j(l);y(),S.length?H&&(H.d(1),H=null):H||((H=ea()).c(),H.m(T,null))}},i(a){if(!P){r(N.$$.fragment,a),r(A.$$.fragment,a);for(let a=0;a<S.length;a+=1)r(R[a]);P=!0}},o(a){e(N.$$.fragment,a),e(A.$$.fragment,a),R=R.filter(Boolean);for(let a=0;a<R.length;a+=1)e(R[a]);P=!1},d(a){a&&o(s),M(N),a&&o(D),M(A,a),a&&o(V),a&&o(T),J(R,a),H&&H.d(),C()}}}function ma(a,s,l){let t,c;I(a,D,a=>l(2,t=a)),I(a,W,a=>l(1,c=a));let n=!1;V(async()=>{T(D,t=await P()),T(W,c=await Q())});return[n,c,t,()=>l(0,n=!n),a=>T(W,a.visibility=!a.visibility,c)]}export default class extends a{constructor(a){super(),s(this,a,ma,ha,l,{})}}

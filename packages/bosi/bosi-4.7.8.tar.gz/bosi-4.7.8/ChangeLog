CHANGES
=======

4.7.8
-----

* Add bsn-patch.txt for easier copy paste
* bump bosi version
* bump image version

4.7.7
-----

* bump bosi version
* udpate tags and fix a typo
* bump bosi version
* bump tags for 5.3 release
* bump version for 5.0/5.1 upgrade
* Add 5.0,5.1 version mapping for Queens
* stop, sleep, start neutron\_api container
* add helper script to clear bcf ssl certs when forced to do so
* bump version for iptables fix
* change to queens no propogated through other releases
* update container tag for iptables fix
* add firewall\_driver for P+V and extra arg for neutron-bsn-agent
* minor changes to add convenience
* update container tag to include various unicode char fixes
* use beta version of pyyaml
* update pyyaml version
* add miimon=100 as a default option for ovs options
* Rename network-environment-ivs.yaml to network-environment-bcf.yaml and change lacp=1 to lacp=fast
* bump version
* set default OSP and BCF releases to new versions
* bump version, minor fix for OSP-248
* node show using instance id not uuid
* bump version for OSP-248
* OSP-248: update node show command
* set version for new bcf-4.7.0 branch
* update customize.sh to define ivs\_version and use it locally
* add qos,trunk for PV mode service plugins
* bump version
* update container tags for queens
* OSP-228: update BOSI to handle package updates in RHOSP 13
* OSP-227: update image tag to pick latest stable container image
* restart both ivs and nfvswitch for symmetry
* workaround for IVS restart issue
* match network config yaml files to queens version of heat templates
* add P+V changes for RHOSP 13
* include horizon container images as well
* update customize scripts to include only neutron-bsn-lldp
* cleanup yamls and other scripts for queens
* remove soft link from pike to master
* add queens support to bosi for build and deployment
* OSP-214: update yaml examples for newton
* OSP-211: cleanup bigswitch-config-p.yaml
* OSP-198: build changes to update customize scripts
* Revert "don't remove packages while upgrading"
* use generic REGISTRY\_IP instead of hard coded IP
* add missing yaml file for pike release
* systemname for OVS DPDK is dependent on role of node
* OSP-184: bosi changes to deploy LLDP script for OVS DPDK
* bump version
* don't remove packages while upgrading
* bump version
* add 4.7 as valid bcf version for newton
* bump version
* BFC-10008: update openstack\_release documentation
* bump version
* BCF-10034: udpate list parsing in puppet
* Revert "BCF-10034: set system-desc for uplink LLDPs appropriately"
* bump version
* pass system\_desc for centos compute node
* remove duplicate dict key
* add ASL 2.0 header to top of all python and bash scripts
* bump version
* add support for 4.7 release + pike
* container customization script not present in horizon anymore
* build script change for bosi
* packaging changes for pike container customization
* complete package pull during RHOSP tarball build
* EXT-80: customize horizon container for bsn plugin enablement
* add pike build scripts
* retain the nic naming as <update this value to nicX or pXpX or emX>
* bump version
* update yamls for ocata
* OSP-139: allow name of bridge to be bridge\_name
* fix typo
* bump version
* OSP-139: simplify help text and improve error handling
* mode property for puppet only allows string now
* readfile to memory
* bump version
* OSP-144: handle rabbit\_host property of neutron.conf deprecation
* fix yaml files other than the one used
* upper constant was wrong :|
* bump version
* add constant for ocata
* merge the two yaml validation files
* supported bond is only linux\_bond
* OSP-139: add pre-deploy bridge validation script for yamls
* remove nfv danglings that are no longer used
* OSP-131: BOSI Ocata readiness [part-2 yaml files]
* update build scripts to include ocata
* OSP-131: BOSI Ocata readiness
* bump version
* update openstack and bcf version in default config.yaml
* add bcf-4.5 constant
* don't crap out at parsing error, continue
* OSP-133: update net-env.yaml for RHEL7.4 changes
* add packages to container as required
* bump version
* OSP-129: remove unused method to get IP of setup node
* OSP-32: ensure package cleanup in fresh install case as well
* update nfvswitch build script to define HorizonBsnBranch var
* OSP-64: add --sriov flag as param to send\_lldp
* verbose bash better than trivial logging
* removed a var from bash by mistake, adding it back
* typo fix
* version bump
* OSP-64: add support for no-bonding along with active-active
* fix error string being overridden with None in node.py
* Add a sleep after first-boot is run to ensure startup.sh has enough time to execute
* remove bigswitch-config-nfv.yaml
* bump version
* upgrade nfvswitch during RHOSP upgrade
* update nfv startup.sh to match ivs startup.sh
* update nfvswitch build script to define HorizonBsnBranch var
* update yaml files based on May 1 status
* update controller yaml files for newton and upwards
* expand IVS abbreviation
* bump version
* OSP-70: ensure node role is detected correctly
* revert build script changes. option unavailable in pip in container
* oops, wrong option
* update build script to not use cache when fetching latest version
* bump version
* OSP-66: ignore mission sriov option
* bump version
* OSP-64: support active-active mode only
* bump version for final status check
* OSP-55: don't daemonize in service file
* version bump
* OSP-55: fixes for sriov changes
* bump version
* bump newton version constant for release matching
* add constants for 4.2
* bump version
* OSP-55: bosi changes to support SR-IOV compute node configuration
* correct the path for install\_pkg
* bump version to make pip optional
* make pip optional
* bump version for dangling name change
* dangling change for bsnstacklib to networking-bigswitch
* add updated bigswitch-p.yaml
* update yaml files for RHOSP 10
* bump version
* OSP-21: update bsnstacklib project name to networking-bigswitch
* update build scripts with new path
* move files to new location
* Update rhosp\_nfvswitch\_packager.sh
* Update rhosp\_packager.sh
* dont use : in tarname
* include time in tarname as well
* bump version
* Revert "OSP-21: update bsnstacklib project name to networking-bigswitch"
* OSP-53: disable l3 agent in P+V
* BVS-7989: add option for offline installation
* bump version
* OSP-46: ensure bosi compatibility with newton+
* bump version
* version bump
* add constants to enable newton release
* always remove previous version when doing fresh install
* minor fixes
* update build scripts for rhosp packagers to use new package name
* update bosi bash scripts for installation/upgrade
* bump version
* OSP-32: cleanup old versions when upgrading packages
* bump version
* add 4.1.0 verion info to bosi constants
* update bosi to pick nfvswitch package after update
* use directory for bosi
* include offline installation package in tarball
* format changes with the version
* update download command
* OSP-8 offline installation
* OSP-10: identify node role correctly in rhosp env
* for any liberty branch, use stable/liberty in horizon-bsn plugin
* add new openstack-RHOSP mapping for newton
* update script for liberty\_ksv3 branch
* ivs changes also apply to nfvswitch
* spaces
* IVS revision is special cased for beta
* nfvswitch startup.sh: let customize.sh overwrite nfvswitch version
* nfvswitch build\_script: update version of nfvswitch like IVS
* nfvswitch: patch selinux to permissive mode
* yamls: update yamls based on qa input
* build\_script: fix type
* build\_script: correctly check for unbound variables
* bump version
* BVS-6814: add back redhat option to bosi
* include latest os-net-config changes
* BVS-6664: update kernel boot params only on compute nodes
* beta1 changes
* nfvswitch: patch qemu rpms and update grub for compute nodes
* BVS-7020: correct verify logic for ivs 4.0.0~beta1
* undo version unintentional bump
* nfvswitch: update packaging script
* nfvswitch: update customize.sh and yaml files
* nfvswitch: update customize.sh and yaml files
* remove Revision from build params and set it to 0
* use canonical BcfVersion string for all paths
* bump version
* bump version
* make openstack bcf compatibility matrix cleaner
* missed a file
* use switch case
* BVS-7020: address comments + ivs branch pick logic
* fix typo
* BVS-7020: move rhosp build scripts to bosi
* yamls: add yaml syntax checker script
* nfvswitch: add os-net-config patches
* yaml: add sample yaml file for nfvswitch
* nfvswitch: os-net-config patching; separate firstboot script for compute and controller
* typo
* BVS-6835: reorganize rhosp resources for build job
* update version
* BVS-6867: fix bosi to pick right version of bsnstacklib
* add notes and installers for qemu packages
* nfvswitch: add customize and starup scripts for rhel packaging
* rhel: exclude patching network scripts into IVS as rpm contains it
* rhel: exclude patching network scripts into IVS as rpm contains it
* yamls: add default values to network-environment.yaml file
* yamls: add default values to network-environment.yaml file
* yamls: make the NeutronID also as ' Update-this-value'
* build: update build script to include yamls
* yamls: add yaml files to ease overcloud config/deployment
* yamls: make the NeutronID also as ' Update-this-value'
* build: update build script to include yamls
* yamls: add yaml files to ease overcloud config/deployment
* bump test version for packstack mitaka
* bump test version for packstack mitaka
* flush expired token
* fix notification driver for mitaka
* fix kilo neutron db
* fix typo for mitaka
* bump test version to 0.0.175
* change ssl cert directory
* add bcf4.0 and bump test version to 0.0.174
* add bcf4.0 and bump test version to 0.0.174
* fix typo
* fix typo
* don't copy config to compute nodes for fuel t6
* add version for mitaka
* remove code for rhosp
* make bosi work with fuel 8
* clean up dhcp rescheduler
* delete all code about selinux
* bump version
* BVS-6559 removed yum update, so remove specific package install too
* bump version
* BVS-6559 removed yum update, so remove specific package install too
* bump version
* BVS-6559: remove yum update from bosi
* bump version
* BVS-6559: remove yum update from bosi
* BVS-6545 remove verbose option from ivs daemon args
* BVS-6545 remove verbose option from ivs daemon args
* trigger a build
* bump version to 3.6.1
* BVS-6324, add --force-yes for libnl
* add startup script
* add startup script
* prepare virt-edit scripts
* add openstack release back
* make bosi version the same as bcf version
* pypi supports only x.y.z
* only 3.6 supports liberty
* fix versioning for 3.6 release
* update bosi for rhosp packaging automated job
* update bosi for rhosp packaging automated job
* copy scripts too
* copy scripts too
* branch based hierarchy
* branch based hierarchy
* organize dockerfile
* handle special permission magic stuff
* change mount point and git config update
* organize dockerfile
* handle special permission magic stuff
* change mount point and git config update
* update version
* update build process
* bump version to check upload
* add script to upload to pypi
* update build process
* bump version to check upload
* add script to upload to pypi
* fix certificate directory
* fix certificate directory
* BVS-6324, make bosi compatible with kilo
* fix kilo deployment with fuel
* BVS-6306, dynamically use port-group or interface-group
* BVS-6302, systemctl daemon-reload before restart services
* add --force to rpm install
* BVS-6268, use rpm instead of yum to install rpm
* clean up dir for upgrade
* fix bosi for centos and ubuntu
* bypass error nodes in rhosp
* cleanup dst dir before copying files to it
* add startup script
* fix TypeError
* for reinstall ivs in redhat
* don't copy ivs to controller nodes
* fix bugs for centos and ubuntu
* fix pkg names
* fix upgrade script for red hat
* fix various bugs
* add helper functions for upgrade
* refactor upgrade bash
* BVS-5892 add upgrade capability
* rename file
* BVS-6124, assign ip address to internal ports after ivs brought them up
* remove all traces of horizon\_patch
* remove dangling horizon changes not required anymore
* start ivs before adding port to ivs
* BSC-9146, use correct CN
* BVS-5926 use regex to get and install epel-release package
* set default to kilo
* fix typo
* start lldp on cinder
* update version to 2.0.21
* program membership rules during installation
* change kilo version string to check both kilo and kilo\_v2
* BVS-5863 update bosi to new release (#176)
* BVS-5863 update bosi to new release
* BVS-5837, collect nova and heat logs
* horizon-bsn now has tags for release version, update bosi for the same (#174)
* fix neutron-openvswitch-agent path
* remove port\_security from bosi
* fix typo
* skip membership rule programming for kilo
* fix vlan check
* BVS-5477, include port-security extension
* BVS-5759 add special case db upgrade for kilo
* further fix
* BVS-5705, check if fuel uses vlan for tenant traffic
* BVS-5726, fix heat.conf
* remove neutron-bsn-agent from controller
* BVS-5666, install funcsigs
* BVS-5653, postpone ivs restart
* BVS-5653, postpone restart ivs
* restart ivs at the end
* add missing import
* add glance filesystem\_store\_datadir
* enable --certificate
* BVS-5586, improve pre\_request script
* BVS-5585, fix paste config for heat
* rename cert files for ivs
* minor fix related to bsn\_service\_plugin
* fix pip\_proxy typo
* add missing pip\_proxy
* deploy horizon plugin
* add ifup ifdown for ivs uplinks
* install horizon-bsn
* BVS-5522, fix glance paste
* change port-group to interface-group
* BVS-5412, improve log collection
* skip copy dpid.py if node is skipped
* BVS-5492, support pip install behind proxy
* disable certificate for now
* change cert dir to /etc/ivs
* copy private key and csr to ivs as well
* increase timeout
* add more info for collected log
* add more information for openstack log
* BVS-5412, add support to collect openstack log
* copy certificate to compute node working
* generate csr works
* add logic to generate csr
* copy certificate to nodes
* force to use dhcp namespace for metadata in t5
* fix liberty t5 packstack
* add --certificate to ivs
* fix dependency for dhcp-agent
* fix neutron-bsn-agent service file for liberty
* force dhcp server to append static route for metadata
* makes bosi work with liberty
* give liberty the right version
* fix version number for liberty
* BVS-5261, remove redundant logic for heat
* add more selinux policies
* add more selinux policies
* add selinux policy
* use selinux puppet module 0.2.5
* fix bsnstacklib version number for juno
* refactor rest client
* BVS-5034, hind router rule grid for kilo t6 deployment
* don't reconfigure node gw in t5
* fix gw documentation
* change default openstack release to kilo
* BVS-4993, support mongodb
* fix rest call to bcf controller
* restart apache2 instead of keystone
* add support for sr-iov
* fix typo
* cleanup index.html
* evenly distribute dhcp namespaces to all dhcp agents
* remove api version from auth\_uri
* fix typo
* fix typo
* add configuration for keystone client in restproxy
* suppress warning message
* change mode from 777 to 644
* fix typo
* fix version
* prepare bosi for kilo bsnstacklib v1 and v2
* don't restart apache2 on openstack controller
* fix condition for ceph
* fix selinux
* fix typo
* BVS-4446, add capability to change mtu
* fix typo
* fix typo
* fix typo
* copy send\_lldp to ceph node
* fix bug in ceph deployment
* fix chassis id and add port description to send\_lldp
* use lacp bond instead of static bond for t5
* fix NPE with fqdn
* fix typo
* kilo doesn't have lbaas anymore
* BVS-4335, p only with packstack kilo
* add more policies
* clean up
* BVS-4246, add selinux policies
* restart nova for packstack
* fix error in bash templates
* use get instead of [] to access dict
* add missing file
* BVS-3581, improve bosi config.yaml documentation
* add missing file
* BVS-4506, send lldp on ceph node
* BVS-4253, use fqdn instead of ip for bosi log
* BVS-4247, replace ping www.bigswitch.com with wget to verify network connectivity
* BVS-4244, don't chmod /etc/neutron to 777, we still need to properly patch horizon
* BVS-4148, use lldp + lacp bond for t5
* Meerge remote-tracking branch 'upstream/master'
* delete haproxy for kilo and increase port group name from 58 to 249
* skip dhcp scheduler patch for non-juno distro
* remove lbaas for t5 mode
* remove lbaas from neutron server
* version bump
* enlarge wait time to restart lldp
* disable lbaas
* version bump
* skip removal of br\_fw\_admin bridge
* A few more changes for fuel 7
* don't deploy
* first set of fix for fuel 7 support
* remove dup bridge names
* minor fix
* BVS-4455, add flog skip\_ivs\_version\_check
* update IVS version
* version bump
* BVS-4486 check lldp service status during T5 verification
* remove a typo
* message format
* add pep8 check, and minor refactors
* change formatting of output and add neutron-bsn-agent to the service list
* check ivs version without sudo bash
* remove unnecessary redirects
* missing variables and errors
* remove verify property from env and node objects
* update verify node to be run as a separate option
* check IVS status and version for T6
* check keyword 'running' only
* BVS-4175, fix metadata not reachable
* BVS-4175, fix metadata agent unreachable
* clean up for redhat t5 scale test
* verify service status on compute nodes after deployment
* redirect output of remote command to log file as well as screen
* fix return on error/exception
* replace timeout code with existing library function
* BVS-4103, skip cinder and ceph node
* clean up example configuration
* rename ivs tar.gz to sl-vx
* shorter timeout
* BVS-4017, BVS-3983, BVS-3958 they caused by the same thing!
* minor fix
* fix BVS-4022, patch for packstack
* add hitless
* add sleep between bsnstacklib install and uninstall
* remove bsnstacklib before upgrade
* fix typo
* skip nodes with uanme longer than 58
* restart dhcp and l3 only when flag is true
* create constants for bond name and bond bridge
* packstack fix for bridges on compute node
* fix horizon for redhat
* redirect horizon to kilo
* fix for redhat
* redhat fix
* fixes for redhat
* correct comments used for debugging
* remove ml2 section from compute nodes - not present in packstack env
* duplicate entry in centos\_controller.pp
* temp fix for BVS-4022
* update bash file
* update puppet files to follow centos instead of redhat
* fix typo
* resolve conflicts
* BVS-4019 install apport
* node is not initialized - read from config\_yaml
* check old IVS version only for T6
* centos selinux changes
* pass deploy\_l3\_agent flag for centos\_puppet
* fix ovs kernel upgrade
* fix kernel upgrade
* fix dhcp metadata static route
* fix typo
* BVS-3980 ivs pkging, BVS-3804 kernel panic
* add dnsmasq config
* add logic for rabbit\_hosts
* centos bash script present twice
* remove T6 specific parts
* make modifications for centos as packstack deployment
* add centos support in t5 bosi
* enable lbaas on controller, always
* add more validation
* move deploy mode to cmd
* don't ifdown bond for ubuntu t5
* minor fix
* minor fix
* imporve log
* minor fix
* fix bcf cert directory
* fix reboot problem for t5
* add crm clean up
* add reboot logic for t5
* improve performance by less copy
* remove install\_all flag
* remove install\_all flag
* remove default\_install\_all flag
* fix ml2\_conf.ini for redhat
* BVS-3914, don't clean up dhcp agent config if deploy\_to\_specified\_nodes\_only is not set
* improve dhcp logic
* clean up logic for t6 ubuntu
* fix config for l3 agent
* add openvswitch to ml2\_mechdriver
* reorder server start and enable
* clean up code
* make code compatable with python 2.6
* add timestamp and parse log
* disable l3 on controller. change install\_all to boolean
* install\_all is not boolean
* copy l3\_agent.ini from controller node
* reboot node only when install\_all is true
* add time cost
* use 1 dhcp agent
* various fixes for scale
* node.os instead of env.os
* Revert "BVS-3908 limit length of uname to 64 characters"
* BVS-3908 limit length of uname to 64 characters
* address comments
* move the node reboot to worker node deploy
* change message to not say 'finished rebooting'. that would mislead to assuming its back up and running
* reboot compute nodes after deployment
* make resync interval to 60
* move puppet apply back to start for controller
* fix ifup -a issue
* install bsnstacklib to all nodes
* add field to specify listed nodes only
* do not remove l3 agent from controller
* ml2\_conf.ini aka plugin.ini is used by neutron-plugin-openvswitch-agent
* change the order of commands so that service is recognized correctly
* haproxy additions to bash script
* add haproxy and copy ml2\_conf.ini from controller
* bsn\_agent file should be present even if it has to be stopped/disabled
* fixes discovered over weekend
* fix neutron\_id
* add missing files
* trivial fixes
* add missing quote
* various fixes
* fix the way to get uplink interfaces
* copy paste errors galore
* don't restart libvirt for fuel
* fix typo
* stop directly copy anything to /bin
* don't copy send\_lldp directly to /bin
* add missing file
* refactor chmod
* fix ctrl c+v error
* env variable
* copy l3 agent ini when copying to compute nodes
* indentation
* fix error when removing pyo/pyc files
* fix issues found when deploying
* various fixes for redhat
* deploy bcf on compute!
* address comments
* make setup dir writable
* add 400 limit for dhcp
* update ivs pkg
* add bond from another branch
* remove unused files
* missed lldp script file
* update scripts to deploy dhcp and l3 agent in t5 mode
* fix heat config
* add t5 placeholder and dummy scripts as is from bigpatch.py
* fix NPE
* initial checkin for redhat
* work in progress
* work in progress
* enable neutron debug
* report interval to 60s
* fix heat template problem in fuel
* start to work on RHOSP7
* fix create router button
* copy less stuff to router rules
* fix wrong directory
* add router back to horizon
* BVS-3779, disable neutron-bsn-agent on controller
* fix typo
* BVS-3707, comment out tunnel\_types
* disable dhcp server rescheduling
* BVS-3746, use post instead of put
* clear dup
* fix dup in neutron.conf
* remove router from plugin
* add missing service
* add missing service
* fix typo
* add haproxy to centos
* fix typo
* enable lb in horizon
* refactoring code
* add lbaas service plugin
* BVS-3723, install haproxy and lb agent on controller node
* various improvements for scale testing
* BVS-3729, BVS-3727, BVS-3728, BVS-3721
* BVS-3707, fix configuration in ovs\_neutron\_plugin.ini
* use active-active bond on controller node directly
* fix NPE
* don't do anything about selinux
* fix openrc file name
* various small fixes
* fix packstack
* add more comments for rebooting controller nodes
* don't reboot controller nodes
* clean up for fuel
* fix puppet file
* reboot controller nodes in fuel
* clean up redundent cron job
* various small fixes
* BVS-3630, patch dhcp scheduler to always prefer the least loaded dhcp agent
* fix typo
* add cron job to reschedule network in case dhcp agent fails
* clean up code for fuel
* bring up link in rc.local
* restart apache2 and keystone
* various small fixes
* add api to copy dir to remote
* lldp 10 sec
* improve format
* start to try on ha setup
* stop l3 agent on controller
* remove debug comments
* fix bugs in openstack controller
* various fixes
* various small fixes
* various small fixes
* add python file for lldp
* ubuntu controller puppet done
* work in progress
* fix threading bug
* add dependencies via requirements.txt config
* version bump
* Changes made by Xin for the initial port
* Initial bosi release
* Initial commit
* add more dependencies
* add more dependencies
* add subprocess32 to requirments
* make pip install work
